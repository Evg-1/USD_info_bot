import unittest
from unittest.mock import Mock
from business_logic.usd import Usd


class UsdMockTest(unittest.TestCase):

    def setUp(self):
        self.usd = Usd()

    def test_get_prices_and_spread_from_binance_p2p(self):
        fake_result_1 = Mock()
        fake_result_2 = Mock()
        fake_result_1.text = '{"code":"000000","message":null,"messageDetail":null,"data":[{"adv":{"advNo":"11372458377180585984","classify":"mass","tradeType":"SELL","asset":"USDT","fiatUnit":"RUB","advStatus":null,"priceType":null,"priceFloatingRatio":null,"rateFloatingRatio":null,"currencyRate":null,"price":"61.20","initAmount":"3300.00000000","surplusAmount":"3300.00","amountAfterEditing":null,"maxSingleTransAmount":"50200.00","minSingleTransAmount":"50100.00","buyerKycLimit":null,"buyerRegDaysLimit":null,"buyerBtcPositionLimit":null,"remarks":null,"autoReplyMsg":"","payTimeLimit":15,"tradeMethods":[{"payId":null,"payMethodId":"","payType":"Tinkoff","payAccount":null,"payBank":null,"paySubBank":null,"identifier":"Tinkoff","iconUrlColor":"https://bin.bnbstatic.com/image/admin_mgs_image_upload/20200615/b8533af0-e531-4c16-a35e-5a334a2a87fb.png","tradeMethodName":"Tinkoff","tradeMethodShortName":"Tinkoff","tradeMethodBgColor":"#DAB700"}],"userTradeCountFilterTime":null,"userBuyTradeCountMin":null,"userBuyTradeCountMax":null,"userSellTradeCountMin":null,"userSellTradeCountMax":null,"userAllTradeCountMin":null,"userAllTradeCountMax":null,"userTradeCompleteRateFilterTime":null,"userTradeCompleteCountMin":null,"userTradeCompleteRateMin":null,"userTradeVolumeFilterTime":null,"userTradeType":null,"userTradeVolumeMin":null,"userTradeVolumeMax":null,"userTradeVolumeAsset":null,"createTime":null,"advUpdateTime":null,"fiatVo":null,"assetVo":null,"advVisibleRet":null,"assetLogo":null,"assetScale":2,"fiatScale":2,"priceScale":2,"fiatSymbol":"₽","isTradable":true,"dynamicMaxSingleTransAmount":"50200.00","minSingleTransQuantity":"818.62","maxSingleTransQuantity":"820.26","dynamicMaxSingleTransQuantity":"820.26","tradableQuantity":"3296.70","commissionRate":"0.00100000","tradeMethodCommissionRates":[],"launchCountry":null},"advertiser":{"userNo":"s6b1151140ec7377eaf00dca4a7ae9ba4","realName":null,"nickName":"Cashmachine_Pay","margin":null,"marginUnit":null,"orderCount":null,"monthOrderCount":113,"monthFinishRate":0.9338842975206612,"advConfirmTime":0,"email":null,"registrationTime":null,"mobile":null,"userType":"user","tagIconUrls":[],"userGrade":2,"userIdentity":"","proMerchant":null,"isBlocked":null}},{"adv":{"advNo":"11372449970937331712","classify":"mass","tradeType":"SELL","asset":"USDT","fiatUnit":"RUB","advStatus":null,"priceType":null,"priceFloatingRatio":null,"rateFloatingRatio":null,"currencyRate":null,"price":"61.22","initAmount":"657.49000000","surplusAmount":"330.00","amountAfterEditing":"330.00000000","maxSingleTransAmount":"20000.00","minSingleTransAmount":"19999.00","buyerKycLimit":null,"buyerRegDaysLimit":null,"buyerBtcPositionLimit":null,"remarks":null,"autoReplyMsg":"","payTimeLimit":15,"tradeMethods":[{"payId":null,"payMethodId":"","payType":"Tinkoff","payAccount":null,"payBank":null,"paySubBank":null,"identifier":"Tinkoff","iconUrlColor":"https://bin.bnbstatic.com/image/admin_mgs_image_upload/20200615/b8533af0-e531-4c16-a35e-5a334a2a87fb.png","tradeMethodName":"Tinkoff","tradeMethodShortName":"Tinkoff","tradeMethodBgColor":"#DAB700"}],"userTradeCountFilterTime":null,"userBuyTradeCountMin":null,"userBuyTradeCountMax":null,"userSellTradeCountMin":null,"userSellTradeCountMax":null,"userAllTradeCountMin":null,"userAllTradeCountMax":null,"userTradeCompleteRateFilterTime":null,"userTradeCompleteCountMin":null,"userTradeCompleteRateMin":null,"userTradeVolumeFilterTime":null,"userTradeType":null,"userTradeVolumeMin":null,"userTradeVolumeMax":null,"userTradeVolumeAsset":null,"createTime":null,"advUpdateTime":null,"fiatVo":null,"assetVo":null,"advVisibleRet":null,"assetLogo":null,"assetScale":2,"fiatScale":2,"priceScale":2,"fiatSymbol":"₽","isTradable":true,"dynamicMaxSingleTransAmount":"20000.00","minSingleTransQuantity":"326.67","maxSingleTransQuantity":"326.69","dynamicMaxSingleTransQuantity":"326.69","tradableQuantity":"329.67","commissionRate":"0.00100000","tradeMethodCommissionRates":[],"launchCountry":null},"advertiser":{"userNo":"sb7bacda031243ae2aa70b76897188092","realName":null,"nickName":"ILMARio","margin":null,"marginUnit":null,"orderCount":null,"monthOrderCount":45,"monthFinishRate":0.9375,"advConfirmTime":0,"email":null,"registrationTime":null,"mobile":null,"userType":"user","tagIconUrls":[],"userGrade":2,"userIdentity":"","proMerchant":null,"isBlocked":null}},{"adv":{"advNo":"11372457342374621184","classify":"mass","tradeType":"SELL","asset":"USDT","fiatUnit":"RUB","advStatus":null,"priceType":null,"priceFloatingRatio":null,"rateFloatingRatio":null,"currencyRate":null,"price":"61.29","initAmount":"2149.97000000","surplusAmount":"761.64","amountAfterEditing":null,"maxSingleTransAmount":"870000.00","minSingleTransAmount":"10000.00","buyerKycLimit":null,"buyerRegDaysLimit":null,"buyerBtcPositionLimit":null,"remarks":null,"autoReplyMsg":"","payTimeLimit":15,"tradeMethods":[{"payId":null,"payMethodId":"","payType":"Tinkoff","payAccount":null,"payBank":null,"paySubBank":null,"identifier":"Tinkoff","iconUrlColor":"https://bin.bnbstatic.com/image/admin_mgs_image_upload/20200615/b8533af0-e531-4c16-a35e-5a334a2a87fb.png","tradeMethodName":"Tinkoff","tradeMethodShortName":"Tinkoff","tradeMethodBgColor":"#DAB700"}],"userTradeCountFilterTime":null,"userBuyTradeCountMin":null,"userBuyTradeCountMax":null,"userSellTradeCountMin":null,"userSellTradeCountMax":null,"userAllTradeCountMin":null,"userAllTradeCountMax":null,"userTradeCompleteRateFilterTime":null,"userTradeCompleteCountMin":null,"userTradeCompleteRateMin":null,"userTradeVolumeFilterTime":null,"userTradeType":null,"userTradeVolumeMin":null,"userTradeVolumeMax":null,"userTradeVolumeAsset":null,"createTime":null,"advUpdateTime":null,"fiatVo":null,"assetVo":null,"advVisibleRet":null,"assetLogo":null,"assetScale":2,"fiatScale":2,"priceScale":2,"fiatSymbol":"₽","isTradable":true,"dynamicMaxSingleTransAmount":"46634.28","minSingleTransQuantity":"163.15","maxSingleTransQuantity":"14194.81","dynamicMaxSingleTransQuantity":"760.87","tradableQuantity":"760.87","commissionRate":"0.00100000","tradeMethodCommissionRates":[],"launchCountry":null},"advertiser":{"userNo":"sfbfffe9cf0c23a74b2c8c77bc89d2a0f","realName":null,"nickName":"Bull_exchange","margin":null,"marginUnit":null,"orderCount":null,"monthOrderCount":20,"monthFinishRate":0.9090909090909091,"advConfirmTime":154,"email":null,"registrationTime":null,"mobile":null,"userType":"user","tagIconUrls":[],"userGrade":2,"userIdentity":"","proMerchant":null,"isBlocked":null}},{"adv":{"advNo":"11369346234771652608","classify":"mass","tradeType":"SELL","asset":"USDT","fiatUnit":"RUB","advStatus":null,"priceType":null,"priceFloatingRatio":null,"rateFloatingRatio":null,"currencyRate":null,"price":"61.30","initAmount":"12729.76000000","surplusAmount":"1120.58","amountAfterEditing":"3570.00000000","maxSingleTransAmount":"225000.00","minSingleTransAmount":"50000.00","buyerKycLimit":null,"buyerRegDaysLimit":null,"buyerBtcPositionLimit":null,"remarks":null,"autoReplyMsg":"","payTimeLimit":30,"tradeMethods":[{"payId":null,"payMethodId":"","payType":"Tinkoff","payAccount":null,"payBank":null,"paySubBank":null,"identifier":"Tinkoff","iconUrlColor":"https://bin.bnbstatic.com/image/admin_mgs_image_upload/20200615/b8533af0-e531-4c16-a35e-5a334a2a87fb.png","tradeMethodName":"Tinkoff","tradeMethodShortName":"Tinkoff","tradeMethodBgColor":"#DAB700"},{"payId":null,"payMethodId":"","payType":"RaiffeisenBankRussia","payAccount":null,"payBank":null,"paySubBank":null,"identifier":"RaiffeisenBankRussia","iconUrlColor":"https://bin.bnbstatic.com/image/admin_mgs_image_upload/20200616/38cc4cc0-de62-4a34-aef6-e694e4705b8f.png","tradeMethodName":"Raiffeisenbank","tradeMethodShortName":"Raiffeisen","tradeMethodBgColor":"#D89F00"}],"userTradeCountFilterTime":null,"userBuyTradeCountMin":null,"userBuyTradeCountMax":null,"userSellTradeCountMin":null,"userSellTradeCountMax":null,"userAllTradeCountMin":null,"userAllTradeCountMax":null,"userTradeCompleteRateFilterTime":null,"userTradeCompleteCountMin":null,"userTradeCompleteRateMin":null,"userTradeVolumeFilterTime":null,"userTradeType":null,"userTradeVolumeMin":null,"userTradeVolumeMax":null,"userTradeVolumeAsset":null,"createTime":null,"advUpdateTime":null,"fiatVo":null,"assetVo":null,"advVisibleRet":null,"assetLogo":null,"assetScale":2,"fiatScale":2,"priceScale":2,"fiatSymbol":"₽","isTradable":true,"dynamicMaxSingleTransAmount":"68622.93","minSingleTransQuantity":"815.66","maxSingleTransQuantity":"3670.47","dynamicMaxSingleTransQuantity":"1119.46","tradableQuantity":"1119.46","commissionRate":"0.00100000","tradeMethodCommissionRates":[],"launchCountry":null},"advertiser":{"userNo":"s75541e0051b83a93815eebe49d2cb1c6","realName":null,"nickName":"Vshem","margin":null,"marginUnit":null,"orderCount":null,"monthOrderCount":25,"monthFinishRate":1.0,"advConfirmTime":0,"email":null,"registrationTime":null,"mobile":null,"userType":"user","tagIconUrls":[],"userGrade":2,"userIdentity":"","proMerchant":null,"isBlocked":null}},{"adv":{"advNo":"11372456920023638016","classify":"mass","tradeType":"SELL","asset":"USDT","fiatUnit":"RUB","advStatus":null,"priceType":null,"priceFloatingRatio":null,"rateFloatingRatio":null,"currencyRate":null,"price":"61.30","initAmount":"465.61000000","surplusAmount":"21.54","amountAfterEditing":null,"maxSingleTransAmount":"28541.00","minSingleTransAmount":"1000.00","buyerKycLimit":null,"buyerRegDaysLimit":null,"buyerBtcPositionLimit":null,"remarks":null,"autoReplyMsg":"","payTimeLimit":15,"tradeMethods":[{"payId":null,"payMethodId":"","payType":"Tinkoff","payAccount":null,"payBank":null,"paySubBank":null,"identifier":"Tinkoff","iconUrlColor":"https://bin.bnbstatic.com/image/admin_mgs_image_upload/20200615/b8533af0-e531-4c16-a35e-5a334a2a87fb.png","tradeMethodName":"Tinkoff","tradeMethodShortName":"Tinkoff","tradeMethodBgColor":"#DAB700"}],"userTradeCountFilterTime":null,"userBuyTradeCountMin":null,"userBuyTradeCountMax":null,"userSellTradeCountMin":null,"userSellTradeCountMax":null,"userAllTradeCountMin":null,"userAllTradeCountMax":null,"userTradeCompleteRateFilterTime":null,"userTradeCompleteCountMin":null,"userTradeCompleteRateMin":null,"userTradeVolumeFilterTime":null,"userTradeType":null,"userTradeVolumeMin":null,"userTradeVolumeMax":null,"userTradeVolumeAsset":null,"createTime":null,"advUpdateTime":null,"fiatVo":null,"assetVo":null,"advVisibleRet":null,"assetLogo":null,"assetScale":2,"fiatScale":2,"priceScale":2,"fiatSymbol":"₽","isTradable":true,"dynamicMaxSingleTransAmount":"1319.08","minSingleTransQuantity":"16.31","maxSingleTransQuantity":"465.59","dynamicMaxSingleTransQuantity":"21.51","tradableQuantity":"21.51","commissionRate":"0.00100000","tradeMethodCommissionRates":[],"launchCountry":null},"advertiser":{"userNo":"sb5b23999db40374697150f26875caee9","realName":null,"nickName":"Dinero","margin":null,"marginUnit":null,"orderCount":null,"monthOrderCount":119,"monthFinishRate":0.9916666666666667,"advConfirmTime":0,"email":null,"registrationTime":null,"mobile":null,"userType":"user","tagIconUrls":[],"userGrade":2,"userIdentity":"","proMerchant":null,"isBlocked":null}},{"adv":{"advNo":"11369581250257928192","classify":"mass","tradeType":"SELL","asset":"USDT","fiatUnit":"RUB","advStatus":null,"priceType":null,"priceFloatingRatio":null,"rateFloatingRatio":null,"currencyRate":null,"price":"61.30","initAmount":"20928.67000000","surplusAmount":"370.94","amountAfterEditing":"517.88000000","maxSingleTransAmount":"54545.00","minSingleTransAmount":"1000.00","buyerKycLimit":null,"buyerRegDaysLimit":null,"buyerBtcPositionLimit":null,"remarks":null,"autoReplyMsg":"","payTimeLimit":15,"tradeMethods":[{"payId":null,"payMethodId":"","payType":"Tinkoff","payAccount":null,"payBank":null,"paySubBank":null,"identifier":"Tinkoff","iconUrlColor":"https://bin.bnbstatic.com/image/admin_mgs_image_upload/20200615/b8533af0-e531-4c16-a35e-5a334a2a87fb.png","tradeMethodName":"Tinkoff","tradeMethodShortName":"Tinkoff","tradeMethodBgColor":"#DAB700"}],"userTradeCountFilterTime":null,"userBuyTradeCountMin":null,"userBuyTradeCountMax":null,"userSellTradeCountMin":null,"userSellTradeCountMax":null,"userAllTradeCountMin":null,"userAllTradeCountMax":null,"userTradeCompleteRateFilterTime":null,"userTradeCompleteCountMin":null,"userTradeCompleteRateMin":null,"userTradeVolumeFilterTime":null,"userTradeType":null,"userTradeVolumeMin":null,"userTradeVolumeMax":null,"userTradeVolumeAsset":null,"createTime":null,"advUpdateTime":null,"fiatVo":null,"assetVo":null,"advVisibleRet":null,"assetLogo":null,"assetScale":2,"fiatScale":2,"priceScale":2,"fiatSymbol":"₽","isTradable":true,"dynamicMaxSingleTransAmount":"22715.90","minSingleTransQuantity":"16.31","maxSingleTransQuantity":"889.80","dynamicMaxSingleTransQuantity":"370.56","tradableQuantity":"370.56","commissionRate":"0.00100000","tradeMethodCommissionRates":[],"launchCountry":null},"advertiser":{"userNo":"s2253b809b2263069ac0bc37520961452","realName":null,"nickName":"nadejniiOBMEN","margin":null,"marginUnit":null,"orderCount":null,"monthOrderCount":714,"monthFinishRate":0.9916666666666667,"advConfirmTime":0,"email":null,"registrationTime":null,"mobile":null,"userType":"user","tagIconUrls":[],"userGrade":2,"userIdentity":"","proMerchant":null,"isBlocked":null}},{"adv":{"advNo":"11372456773008252928","classify":"profession","tradeType":"SELL","asset":"USDT","fiatUnit":"RUB","advStatus":null,"priceType":null,"priceFloatingRatio":null,"rateFloatingRatio":null,"currencyRate":null,"price":"61.30","initAmount":"3466.50000000","surplusAmount":"1626.51","amountAfterEditing":"1626.51000000","maxSingleTransAmount":"120000.00","minSingleTransAmount":"10000.00","buyerKycLimit":null,"buyerRegDaysLimit":null,"buyerBtcPositionLimit":null,"remarks":null,"autoReplyMsg":"","payTimeLimit":15,"tradeMethods":[{"payId":null,"payMethodId":"","payType":"Tinkoff","payAccount":null,"payBank":null,"paySubBank":null,"identifier":"Tinkoff","iconUrlColor":"https://bin.bnbstatic.com/image/admin_mgs_image_upload/20200615/b8533af0-e531-4c16-a35e-5a334a2a87fb.png","tradeMethodName":"Tinkoff","tradeMethodShortName":"Tinkoff","tradeMethodBgColor":"#DAB700"}],"userTradeCountFilterTime":null,"userBuyTradeCountMin":null,"userBuyTradeCountMax":null,"userSellTradeCountMin":null,"userSellTradeCountMax":null,"userAllTradeCountMin":null,"userAllTradeCountMax":null,"userTradeCompleteRateFilterTime":null,"userTradeCompleteCountMin":null,"userTradeCompleteRateMin":null,"userTradeVolumeFilterTime":null,"userTradeType":null,"userTradeVolumeMin":null,"userTradeVolumeMax":null,"userTradeVolumeAsset":null,"createTime":null,"advUpdateTime":null,"fiatVo":null,"assetVo":null,"advVisibleRet":null,"assetLogo":null,"assetScale":2,"fiatScale":2,"priceScale":2,"fiatSymbol":"₽","isTradable":true,"dynamicMaxSingleTransAmount":"99625.36","minSingleTransQuantity":"163.13","maxSingleTransQuantity":"1957.58","dynamicMaxSingleTransQuantity":"1625.20","tradableQuantity":"1625.20","commissionRate":"0.00080000","tradeMethodCommissionRates":[],"launchCountry":null},"advertiser":{"userNo":"s241272f95d8439c79743d5979bb27979","realName":null,"nickName":"midrisow","margin":null,"marginUnit":null,"orderCount":null,"monthOrderCount":1180,"monthFinishRate":0.9760132340777502,"advConfirmTime":0,"email":null,"registrationTime":null,"mobile":null,"userType":"merchant","tagIconUrls":[],"userGrade":3,"userIdentity":"MASS_MERCHANT","proMerchant":null,"isBlocked":null}},{"adv":{"advNo":"11372072595210481664","classify":"profession","tradeType":"SELL","asset":"USDT","fiatUnit":"RUB","advStatus":null,"priceType":null,"priceFloatingRatio":null,"rateFloatingRatio":null,"currencyRate":null,"price":"61.31","initAmount":"149508.68000000","surplusAmount":"6794.13","amountAfterEditing":"6794.13000000","maxSingleTransAmount":"870000.00","minSingleTransAmount":"40000.00","buyerKycLimit":null,"buyerRegDaysLimit":null,"buyerBtcPositionLimit":null,"remarks":null,"autoReplyMsg":"","payTimeLimit":15,"tradeMethods":[{"payId":null,"payMethodId":"","payType":"Tinkoff","payAccount":null,"payBank":null,"paySubBank":null,"identifier":"Tinkoff","iconUrlColor":"https://bin.bnbstatic.com/image/admin_mgs_image_upload/20200615/b8533af0-e531-4c16-a35e-5a334a2a87fb.png","tradeMethodName":"Tinkoff","tradeMethodShortName":"Tinkoff","tradeMethodBgColor":"#DAB700"}],"userTradeCountFilterTime":null,"userBuyTradeCountMin":null,"userBuyTradeCountMax":null,"userSellTradeCountMin":null,"userSellTradeCountMax":null,"userAllTradeCountMin":null,"userAllTradeCountMax":null,"userTradeCompleteRateFilterTime":null,"userTradeCompleteCountMin":null,"userTradeCompleteRateMin":null,"userTradeVolumeFilterTime":null,"userTradeType":null,"userTradeVolumeMin":null,"userTradeVolumeMax":null,"userTradeVolumeAsset":null,"createTime":null,"advUpdateTime":null,"fiatVo":null,"assetVo":null,"advVisibleRet":null,"assetLogo":null,"assetScale":2,"fiatScale":2,"priceScale":2,"fiatSymbol":"₽","isTradable":true,"dynamicMaxSingleTransAmount":"416256.73","minSingleTransQuantity":"652.42","maxSingleTransQuantity":"14190.18","dynamicMaxSingleTransQuantity":"6789.37","tradableQuantity":"6789.37","commissionRate":"0.00070000","tradeMethodCommissionRates":[],"launchCountry":null},"advertiser":{"userNo":"s31865a0c71db34ec893bd267f98cbda0","realName":null,"nickName":"irokenUSDT","margin":null,"marginUnit":null,"orderCount":null,"monthOrderCount":1027,"monthFinishRate":0.9771646051379639,"advConfirmTime":48,"email":null,"registrationTime":null,"mobile":null,"userType":"merchant","tagIconUrls":[],"userGrade":3,"userIdentity":"MASS_MERCHANT","proMerchant":null,"isBlocked":null}},{"adv":{"advNo":"11353302162317139968","classify":"profession","tradeType":"SELL","asset":"USDT","fiatUnit":"RUB","advStatus":null,"priceType":null,"priceFloatingRatio":null,"rateFloatingRatio":null,"currencyRate":null,"price":"61.31","initAmount":"12641799.21000000","surplusAmount":"5049.29","amountAfterEditing":"5049.29000000","maxSingleTransAmount":"870000.00","minSingleTransAmount":"30000.00","buyerKycLimit":null,"buyerRegDaysLimit":null,"buyerBtcPositionLimit":null,"remarks":null,"autoReplyMsg":"","payTimeLimit":15,"tradeMethods":[{"payId":null,"payMethodId":"","payType":"Tinkoff","payAccount":null,"payBank":null,"paySubBank":null,"identifier":"Tinkoff","iconUrlColor":"https://bin.bnbstatic.com/image/admin_mgs_image_upload/20200615/b8533af0-e531-4c16-a35e-5a334a2a87fb.png","tradeMethodName":"Tinkoff","tradeMethodShortName":"Tinkoff","tradeMethodBgColor":"#DAB700"}],"userTradeCountFilterTime":null,"userBuyTradeCountMin":null,"userBuyTradeCountMax":null,"userSellTradeCountMin":null,"userSellTradeCountMax":null,"userAllTradeCountMin":null,"userAllTradeCountMax":null,"userTradeCompleteRateFilterTime":null,"userTradeCompleteCountMin":null,"userTradeCompleteRateMin":null,"userTradeVolumeFilterTime":null,"userTradeType":null,"userTradeVolumeMin":null,"userTradeVolumeMax":null,"userTradeVolumeAsset":null,"createTime":null,"advUpdateTime":null,"fiatVo":null,"assetVo":null,"advVisibleRet":null,"assetLogo":null,"assetScale":2,"fiatScale":2,"priceScale":2,"fiatSymbol":"₽","isTradable":true,"dynamicMaxSingleTransAmount":"309355.42","minSingleTransQuantity":"489.31","maxSingleTransQuantity":"14190.18","dynamicMaxSingleTransQuantity":"5045.75","tradableQuantity":"5045.75","commissionRate":"0.00070000","tradeMethodCommissionRates":[],"launchCountry":null},"advertiser":{"userNo":"sa3686a58e6133b2ca4ae05a7b2c2553d","realName":null,"nickName":"30sec","margin":null,"marginUnit":null,"orderCount":null,"monthOrderCount":18468,"monthFinishRate":0.9837008628954937,"advConfirmTime":0,"email":null,"registrationTime":null,"mobile":null,"userType":"merchant","tagIconUrls":[],"userGrade":3,"userIdentity":"MASS_MERCHANT","proMerchant":null,"isBlocked":null}},{"adv":{"advNo":"11341768902547668992","classify":"mass","tradeType":"SELL","asset":"USDT","fiatUnit":"RUB","advStatus":null,"priceType":null,"priceFloatingRatio":null,"rateFloatingRatio":null,"currencyRate":null,"price":"61.31","initAmount":"14573572.34000000","surplusAmount":"3645.13","amountAfterEditing":"5902.50000000","maxSingleTransAmount":"870000.00","minSingleTransAmount":"30000.00","buyerKycLimit":null,"buyerRegDaysLimit":null,"buyerBtcPositionLimit":null,"remarks":null,"autoReplyMsg":"","payTimeLimit":15,"tradeMethods":[{"payId":null,"payMethodId":"","payType":"Tinkoff","payAccount":null,"payBank":null,"paySubBank":null,"identifier":"Tinkoff","iconUrlColor":"https://bin.bnbstatic.com/image/admin_mgs_image_upload/20200615/b8533af0-e531-4c16-a35e-5a334a2a87fb.png","tradeMethodName":"Tinkoff","tradeMethodShortName":"Tinkoff","tradeMethodBgColor":"#DAB700"}],"userTradeCountFilterTime":null,"userBuyTradeCountMin":null,"userBuyTradeCountMax":null,"userSellTradeCountMin":null,"userSellTradeCountMax":null,"userAllTradeCountMin":null,"userAllTradeCountMax":null,"userTradeCompleteRateFilterTime":null,"userTradeCompleteCountMin":null,"userTradeCompleteRateMin":null,"userTradeVolumeFilterTime":null,"userTradeType":null,"userTradeVolumeMin":null,"userTradeVolumeMax":null,"userTradeVolumeAsset":null,"createTime":null,"advUpdateTime":null,"fiatVo":null,"assetVo":null,"advVisibleRet":null,"assetLogo":null,"assetScale":2,"fiatScale":2,"priceScale":2,"fiatSymbol":"₽","isTradable":true,"dynamicMaxSingleTransAmount":"223304.27","minSingleTransQuantity":"489.31","maxSingleTransQuantity":"14190.18","dynamicMaxSingleTransQuantity":"3642.21","tradableQuantity":"3642.21","commissionRate":"0.00080000","tradeMethodCommissionRates":[],"launchCountry":null},"advertiser":{"userNo":"s9f764416e88930788dcf52f6817eaf66","realName":null,"nickName":"Belarus","margin":null,"marginUnit":null,"orderCount":null,"monthOrderCount":19006,"monthFinishRate":0.9813600454381164,"advConfirmTime":0,"email":null,"registrationTime":null,"mobile":null,"userType":"merchant","tagIconUrls":[],"userGrade":3,"userIdentity":"MASS_MERCHANT","proMerchant":null,"isBlocked":null}}],"total":223,"success":true}'
        fake_result_2.text = '{"code":"000000","message":null,"messageDetail":null,"data":[{"adv":{"advNo":"11372091742397079552","classify":"profession","tradeType":"BUY","asset":"USDT","fiatUnit":"RUB","advStatus":null,"priceType":null,"priceFloatingRatio":null,"rateFloatingRatio":null,"currencyRate":null,"price":"61.09","initAmount":"355531.90000000","surplusAmount":"13000.00","amountAfterEditing":"13000.00000000","maxSingleTransAmount":"870000.00","minSingleTransAmount":"100000.00","buyerKycLimit":null,"buyerRegDaysLimit":null,"buyerBtcPositionLimit":null,"remarks":null,"autoReplyMsg":"","payTimeLimit":15,"tradeMethods":[{"payId":null,"payMethodId":"","payType":"Tinkoff","payAccount":null,"payBank":null,"paySubBank":null,"identifier":"Tinkoff","iconUrlColor":"https://bin.bnbstatic.com/image/admin_mgs_image_upload/20200615/b8533af0-e531-4c16-a35e-5a334a2a87fb.png","tradeMethodName":"Tinkoff","tradeMethodShortName":"Tinkoff","tradeMethodBgColor":"#DAB700"}],"userTradeCountFilterTime":null,"userBuyTradeCountMin":null,"userBuyTradeCountMax":null,"userSellTradeCountMin":null,"userSellTradeCountMax":null,"userAllTradeCountMin":null,"userAllTradeCountMax":null,"userTradeCompleteRateFilterTime":null,"userTradeCompleteCountMin":null,"userTradeCompleteRateMin":null,"userTradeVolumeFilterTime":null,"userTradeType":null,"userTradeVolumeMin":null,"userTradeVolumeMax":null,"userTradeVolumeAsset":null,"createTime":null,"advUpdateTime":null,"fiatVo":null,"assetVo":null,"advVisibleRet":null,"assetLogo":null,"assetScale":2,"fiatScale":2,"priceScale":2,"fiatSymbol":"₽","isTradable":true,"dynamicMaxSingleTransAmount":"794170.00","minSingleTransQuantity":"1636.92","maxSingleTransQuantity":"14241.28","dynamicMaxSingleTransQuantity":"13000.00","tradableQuantity":"13000.00","commissionRate":"0.00080000","tradeMethodCommissionRates":[],"launchCountry":null},"advertiser":{"userNo":"s2caffcde06ef3667aeada21dfcc3c4fa","realName":null,"nickName":"Alima_GAMA","margin":null,"marginUnit":null,"orderCount":null,"monthOrderCount":468,"monthFinishRate":0.9551020408163265,"advConfirmTime":0,"email":null,"registrationTime":null,"mobile":null,"userType":"merchant","tagIconUrls":[],"userGrade":3,"userIdentity":"MASS_MERCHANT","proMerchant":null,"isBlocked":null}},{"adv":{"advNo":"11369169004654575616","classify":"profession","tradeType":"BUY","asset":"USDT","fiatUnit":"RUB","advStatus":null,"priceType":null,"priceFloatingRatio":null,"rateFloatingRatio":null,"currencyRate":null,"price":"61.08","initAmount":"1044110.87000000","surplusAmount":"87174.45","amountAfterEditing":"98688.10000000","maxSingleTransAmount":"870000.00","minSingleTransAmount":"50000.00","buyerKycLimit":null,"buyerRegDaysLimit":null,"buyerBtcPositionLimit":null,"remarks":null,"autoReplyMsg":"","payTimeLimit":15,"tradeMethods":[{"payId":null,"payMethodId":"","payType":"Tinkoff","payAccount":null,"payBank":null,"paySubBank":null,"identifier":"Tinkoff","iconUrlColor":"https://bin.bnbstatic.com/image/admin_mgs_image_upload/20200615/b8533af0-e531-4c16-a35e-5a334a2a87fb.png","tradeMethodName":"Tinkoff","tradeMethodShortName":"Tinkoff","tradeMethodBgColor":"#DAB700"}],"userTradeCountFilterTime":null,"userBuyTradeCountMin":null,"userBuyTradeCountMax":null,"userSellTradeCountMin":null,"userSellTradeCountMax":null,"userAllTradeCountMin":null,"userAllTradeCountMax":null,"userTradeCompleteRateFilterTime":null,"userTradeCompleteCountMin":null,"userTradeCompleteRateMin":null,"userTradeVolumeFilterTime":null,"userTradeType":null,"userTradeVolumeMin":null,"userTradeVolumeMax":null,"userTradeVolumeAsset":null,"createTime":null,"advUpdateTime":null,"fiatVo":null,"assetVo":null,"advVisibleRet":null,"assetLogo":null,"assetScale":2,"fiatScale":2,"priceScale":2,"fiatSymbol":"₽","isTradable":true,"dynamicMaxSingleTransAmount":"870000.00","minSingleTransQuantity":"818.59","maxSingleTransQuantity":"14243.61","dynamicMaxSingleTransQuantity":"14243.61","tradableQuantity":"87174.45","commissionRate":"0.00070000","tradeMethodCommissionRates":[],"launchCountry":null},"advertiser":{"userNo":"s26d9ccfa62ef389a88a5641eb354b1eb","realName":null,"nickName":"GEVORG","margin":null,"marginUnit":null,"orderCount":null,"monthOrderCount":2235,"monthFinishRate":0.9902525476295968,"advConfirmTime":116,"email":null,"registrationTime":null,"mobile":null,"userType":"merchant","tagIconUrls":[],"userGrade":3,"userIdentity":"MASS_MERCHANT","proMerchant":null,"isBlocked":null}},{"adv":{"advNo":"11364502857820540928","classify":"profession","tradeType":"BUY","asset":"USDT","fiatUnit":"RUB","advStatus":null,"priceType":null,"priceFloatingRatio":null,"rateFloatingRatio":null,"currencyRate":null,"price":"61.08","initAmount":"2527970.73000000","surplusAmount":"16000.00","amountAfterEditing":"16000.00000000","maxSingleTransAmount":"870000.00","minSingleTransAmount":"100000.00","buyerKycLimit":null,"buyerRegDaysLimit":null,"buyerBtcPositionLimit":null,"remarks":null,"autoReplyMsg":"","payTimeLimit":30,"tradeMethods":[{"payId":null,"payMethodId":"","payType":"Tinkoff","payAccount":null,"payBank":null,"paySubBank":null,"identifier":"Tinkoff","iconUrlColor":"https://bin.bnbstatic.com/image/admin_mgs_image_upload/20200615/b8533af0-e531-4c16-a35e-5a334a2a87fb.png","tradeMethodName":"Tinkoff","tradeMethodShortName":"Tinkoff","tradeMethodBgColor":"#DAB700"}],"userTradeCountFilterTime":null,"userBuyTradeCountMin":null,"userBuyTradeCountMax":null,"userSellTradeCountMin":null,"userSellTradeCountMax":null,"userAllTradeCountMin":null,"userAllTradeCountMax":null,"userTradeCompleteRateFilterTime":null,"userTradeCompleteCountMin":null,"userTradeCompleteRateMin":null,"userTradeVolumeFilterTime":null,"userTradeType":null,"userTradeVolumeMin":null,"userTradeVolumeMax":null,"userTradeVolumeAsset":null,"createTime":null,"advUpdateTime":null,"fiatVo":null,"assetVo":null,"advVisibleRet":null,"assetLogo":null,"assetScale":2,"fiatScale":2,"priceScale":2,"fiatSymbol":"₽","isTradable":true,"dynamicMaxSingleTransAmount":"870000.00","minSingleTransQuantity":"1637.19","maxSingleTransQuantity":"14243.61","dynamicMaxSingleTransQuantity":"14243.61","tradableQuantity":"16000.00","commissionRate":"0.00070000","tradeMethodCommissionRates":[],"launchCountry":null},"advertiser":{"userNo":"s71ec117f75213501aa168c2af6d2756a","realName":null,"nickName":"Witleess","margin":null,"marginUnit":null,"orderCount":null,"monthOrderCount":937,"monthFinishRate":0.9730010384215991,"advConfirmTime":0,"email":null,"registrationTime":null,"mobile":null,"userType":"merchant","tagIconUrls":[],"userGrade":3,"userIdentity":"MASS_MERCHANT","proMerchant":null,"isBlocked":null}},{"adv":{"advNo":"11351953446699630592","classify":"mass","tradeType":"BUY","asset":"USDT","fiatUnit":"RUB","advStatus":null,"priceType":null,"priceFloatingRatio":null,"rateFloatingRatio":null,"currencyRate":null,"price":"61.07","initAmount":"4961837.65000000","surplusAmount":"2952.91","amountAfterEditing":"11000.00000000","maxSingleTransAmount":"870000.00","minSingleTransAmount":"50000.00","buyerKycLimit":null,"buyerRegDaysLimit":null,"buyerBtcPositionLimit":null,"remarks":null,"autoReplyMsg":"","payTimeLimit":15,"tradeMethods":[{"payId":null,"payMethodId":"","payType":"Tinkoff","payAccount":null,"payBank":null,"paySubBank":null,"identifier":"Tinkoff","iconUrlColor":"https://bin.bnbstatic.com/image/admin_mgs_image_upload/20200615/b8533af0-e531-4c16-a35e-5a334a2a87fb.png","tradeMethodName":"Tinkoff","tradeMethodShortName":"Tinkoff","tradeMethodBgColor":"#DAB700"}],"userTradeCountFilterTime":null,"userBuyTradeCountMin":null,"userBuyTradeCountMax":null,"userSellTradeCountMin":null,"userSellTradeCountMax":null,"userAllTradeCountMin":null,"userAllTradeCountMax":null,"userTradeCompleteRateFilterTime":null,"userTradeCompleteCountMin":null,"userTradeCompleteRateMin":null,"userTradeVolumeFilterTime":null,"userTradeType":null,"userTradeVolumeMin":null,"userTradeVolumeMax":null,"userTradeVolumeAsset":null,"createTime":null,"advUpdateTime":null,"fiatVo":null,"assetVo":null,"advVisibleRet":null,"assetLogo":null,"assetScale":2,"fiatScale":2,"priceScale":2,"fiatSymbol":"₽","isTradable":true,"dynamicMaxSingleTransAmount":"180334.21","minSingleTransQuantity":"818.73","maxSingleTransQuantity":"14245.94","dynamicMaxSingleTransQuantity":"2952.91","tradableQuantity":"2952.91","commissionRate":"0.00070000","tradeMethodCommissionRates":[],"launchCountry":null},"advertiser":{"userNo":"s3dddb15363743d528eae53a0e93225f9","realName":null,"nickName":"WorldWide_K","margin":null,"marginUnit":null,"orderCount":null,"monthOrderCount":1974,"monthFinishRate":0.9786812097174021,"advConfirmTime":0,"email":null,"registrationTime":null,"mobile":null,"userType":"merchant","tagIconUrls":[],"userGrade":3,"userIdentity":"MASS_MERCHANT","proMerchant":null,"isBlocked":null}}],"total":177,"success":true}'
        fake_get_data = Mock()
        fake_get_data.side_effect = [fake_result_1, fake_result_2]
        self.usd.get_data = fake_get_data
        self.usd.get_prices_and_spread_from_binance_p2p()

        self.assertEqual(self.usd.price_buy_binance, 61.2)
        self.assertEqual(self.usd.price_sell_binance, 61.09)
        self.assertEqual(self.usd.spread_binance, 0.11)

    def test_get_prices_and_spread_from_alfabank(self):
        fake_result = Mock()
        fake_result.text = '{"data":[{"currencyCode":"CHF","rateByClientType":[{"clientType":"standardCC","ratesByType":[{"rateType":"makeCash","ratesForPeriod":[],"lastActualRate":{"date":"2022-06-20T12:25:00+03:00","buy":{"originalValue":48.98},"sell":{"originalValue":63.98}}}]}]},{"currencyCode":"EUR","rateByClientType":[{"clientType":"standardCC","ratesByType":[{"rateType":"makeCash","ratesForPeriod":[],"lastActualRate":{"date":"2022-06-20T12:25:00+03:00","buy":{"originalValue":51.10},"sell":{"originalValue":59.10}}}]}]},{"currencyCode":"GBP","rateByClientType":[{"clientType":"standardCC","ratesByType":[{"rateType":"makeCash","ratesForPeriod":[],"lastActualRate":{"date":"2022-06-20T12:25:00+03:00","buy":{"originalValue":66.10},"sell":{"originalValue":76.10}}}]}]},{"currencyCode":"USD","rateByClientType":[{"clientType":"standardCC","ratesByType":[{"rateType":"makeCash","ratesForPeriod":[],"lastActualRate":{"date":"2022-06-20T12:25:00+03:00","buy":{"originalValue":48.50},"sell":{"originalValue":56.50}}}]}]}]}'
        fake_get_data = Mock(return_value=fake_result)
        self.usd.get_data = fake_get_data
        self.usd.get_prices_and_spread_from_alfabank()

        self.assertEqual(self.usd.price_buy_alfa, 56.5)
        self.assertEqual(self.usd.price_sell_alfa, 48.5)
        self.assertEqual(self.usd.spread_alfa, 8.0)

    def test_get_prices_and_spread_from_tinkoffbank(self):
        fake_result = Mock()
        fake_result.text = '{"trackingId":"ATZBJG0DC9","resultCode":"OK","payload":{"lastUpdate":{"milliseconds":1655736436413},"rates":[{"category":"DepositPayments","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":55.45,"sell":59.45},{"category":"CreditCardsOperations","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":55.45,"sell":59.45},{"category":"DebitCardsOperations","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":55.45,"sell":59.45},{"category":"PrepaidCardsOperations","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":55.45,"sell":59.45},{"category":"C2CTransfers","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":55.45,"sell":59.65},{"category":"DebitCardsTransfers","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":55.55,"sell":59.75},{"category":"CreditCardsTransfers","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":55.55,"sell":59.75},{"category":"PrepaidCardsTransfers","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":55.55,"sell":59.75},{"category":"SavingAccountTransfers","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":55.55,"sell":59.75},{"category":"CUTransferFrom10To100","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":55.55,"sell":59.75},{"category":"CUTransferAbove100","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":55.55,"sell":59.75},{"category":"OPSRateGroup","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":55.55,"sell":59.75},{"category":"CUTransfersPro","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":55.55,"sell":59.75},{"category":"CUTransfersPremium","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":55.55,"sell":59.75},{"category":"SMETransferAbove100G12","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":53.6064,"sell":59.7542},{"category":"SMETransferFrom10To100G13","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":53.6064,"sell":59.7542},{"category":"SMETransferAbove100G13PO","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":53.6064,"sell":59.7542},{"category":"SMETransferFrom10To100G12","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":53.6064,"sell":59.7542},{"category":"SMETransferFrom10To100G11","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":53.6064,"sell":59.7542},{"category":"SMETransferAbove100G11","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":53.6064,"sell":59.7542},{"category":"SMETransferBelow10G13PO","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":53.6064,"sell":59.7542},{"category":"SMETransferBelow10G11","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":53.6064,"sell":59.7542},{"category":"SMETransferBelow10G12","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":53.6064,"sell":59.7542},{"category":"SMETransferFrom10To100G13PO","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":53.6064,"sell":59.7542},{"category":"SMETransferBelow10G13","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":53.6064,"sell":59.7542},{"category":"SMETransferAbove100G13","fromCurrency":{"code":840,"name":"USD","strCode":"840"},"toCurrency":{"code":643,"name":"RUB","strCode":"643"},"buy":53.6064,"sell":59.7542}]}}'
        fake_get_data = Mock(return_value=fake_result)
        self.usd.get_data = fake_get_data
        self.usd.get_prices_and_spread_from_tinkoffbank()

        self.assertEqual(self.usd.price_buy_tinkoff, 59.45)
        self.assertEqual(self.usd.price_sell_tinkoff, 55.45)
        self.assertEqual(self.usd.spread_tinkoff, 4.0)

    def test_get_formatted_msg_from_binance_p2p(self):
        self.usd.get_formatted_msg_from_binance_p2p()
        self.assertRegex(self.usd.binance_f_msg, r'\d+\.\d\d/\d+\.\d\d Δ-?\d+\.\d\d')

    def test_get_formatted_msg_from_alfabank(self):
        self.usd.get_formatted_msg_from_alfabank()
        self.assertRegex(self.usd.alfabank_f_msg, r'\d+\.\d\d/\d+\.\d\d Δ-?\d+\.\d\d')

    def test_get_formatted_msg_from_tinkoffbank(self):
        self.usd.get_formatted_msg_from_tinkoffbank()
        self.assertRegex(self.usd.tinkoffbank_f_msg, r'\d+\.\d\d/\d+\.\d\d Δ-?\d+\.\d\d')


class UsdRealTest(unittest.TestCase):

    def setUp(self):
        self.usd = Usd()

    def test_get_prices_and_spread_from_binance_p2p(self):
        self.usd.get_prices_and_spread_from_binance_p2p()
        self.assertAlmostEqual(self.usd.price_buy_binance, 100, delta=90)
        self.assertAlmostEqual(self.usd.price_sell_binance, 100, delta=90)
        self.assertAlmostEqual(self.usd.spread_binance, 30, delta=40)

    def test_get_prices_and_spread_from_alfabank(self):
        self.usd.get_prices_and_spread_from_alfabank()
        self.assertAlmostEqual(self.usd.price_buy_alfa, 100, delta=90)
        self.assertAlmostEqual(self.usd.price_sell_alfa, 100, delta=90)
        self.assertAlmostEqual(self.usd.spread_alfa, 30, delta=40)

    def test_get_prices_and_spread_from_tinkoffbank(self):
        self.usd.get_prices_and_spread_from_tinkoffbank()
        self.assertAlmostEqual(self.usd.price_buy_tinkoff, 100, delta=90)
        self.assertAlmostEqual(self.usd.price_sell_tinkoff, 100, delta=90)
        self.assertAlmostEqual(self.usd.spread_tinkoff, 30, delta=40)

    def test_get_formatted_msg_from_binance_p2p(self):
        self.usd.get_formatted_msg_from_binance_p2p()
        self.assertRegex(self.usd.binance_f_msg, r'\d+\.\d\d/\d+\.\d\d Δ-?\d+\.\d\d')

    def test_get_formatted_msg_from_alfabank(self):
        self.usd.get_formatted_msg_from_alfabank()
        self.assertRegex(self.usd.alfabank_f_msg, r'\d+\.\d\d/\d+\.\d\d Δ-?\d+\.\d\d')

    def test_get_formatted_msg_from_tinkoffbank(self):
        self.usd.get_formatted_msg_from_tinkoffbank()
        self.assertRegex(self.usd.tinkoffbank_f_msg, r'\d+\.\d\d/\d+\.\d\d Δ-?\d+\.\d\d')
